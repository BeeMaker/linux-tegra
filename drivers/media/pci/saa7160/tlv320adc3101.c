#include "LINUXV4L2.h" 
#include "tlv320adc3101.h"
#include "sa7160.h"
#include "fh8735.h"
//#include "TW2809.H"
#include "pl330b.h"
#include "mz0380.h"

BOOLEAN BBD53048E47E4431AD6F396FDEAFCA8B( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, ULONG nDevNum, BYTE F3E85D87, BYTE F6B106280018F45d7A077070B88512C77, BYTE bValue );

BYTE    BD73A320B6D24146A36D07B60BCDE94F( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, ULONG nDevNum, BYTE F3E85D87, BYTE F6B106280018F45d7A077070B88512C77 );

BOOLEAN c944c15a33e6405babe73920d58a1fba( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, ULONG nDevNum, BYTE F3E85D87, BYTE F6B106280018F45d7A077070B88512C77, BYTE bValue );

BYTE    d9cfcb6942714b3291d4a65a75ba7691( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, ULONG nDevNum, BYTE F3E85D87, BYTE F6B106280018F45d7A077070B88512C77 );

BOOLEAN FC5FCF2C4E50436EA8A2A8C98E4C1AC2( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, ULONG nDevNum, BYTE F3E85D87, BYTE F6B106280018F45d7A077070B88512C77, BYTE bValue );

BYTE	F7B4503FC4AA4710AEC20FC4C587ACB8( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, ULONG nDevNum, BYTE F3E85D87, BYTE F6B106280018F45d7A077070B88512C77 );

typedef enum {
	
	ADC3101_SINGLE_IN1 = 0,

	ADC3101_SINGAL_IN2 = 1,

	ADC3101_SIGNAL_IN3 = 2,

} ADC3101_INPUT_PORT;

typedef enum {

	ADC3101_P_0DB      = 0,

	ADC3101_N_6DB      = 1,

 // ADC3101_DISCONNECT = 2,

} ADC3101_INPUT_CLASS;

VOID CCE176A010E245C8B26A8B8D152FE397( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, BYTE i, BYTE nPage )
{
	BYTE txbuf[ 2 ];

	txbuf[ 0 ] = 0x00;
	
	txbuf[ 1 ] = nPage;
	
	#ifndef AME_PL330A
	if( pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x1797 )
	{
		BBD53048E47E4431AD6F396FDEAFCA8B( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ], txbuf[ 1 ] );
	}

	if( (pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x3086 && pDevice->F9D9594A095F0463193B7588374CF8310->device == 0x0101) )
	{
		c944c15a33e6405babe73920d58a1fba( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ], txbuf[ 1 ] );
	}

	if( (pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x1AF2 && pDevice->F9D9594A095F0463193B7588374CF8310->device == 0xA001) )
	{
		FC5FCF2C4E50436EA8A2A8C98E4C1AC2( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ], txbuf[ 1 ] );
	}
	#else
		FC5FCF2C4E50436EA8A2A8C98E4C1AC2( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ], txbuf[ 1 ] );
	#endif

	pDevice->D8B74534E3F446EC9637B41BE21BE297[ i ] = nPage;
}

BYTE CC8FFE6CEDFB42ADBB2BC0AB8B5A3CEF( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, BYTE i, BYTE nPage, BYTE nAddress )
{
	BYTE txbuf[ 2 ] = { 0, 0 };
	
	BYTE rxbuf[ 2 ] = { 0, 0 };

	if(	pDevice->D8B74534E3F446EC9637B41BE21BE297[ i ] != nPage ) {

		CCE176A010E245C8B26A8B8D152FE397( pDevice, i, nPage );	
	}
	txbuf[ 0 ] = nAddress;

	#ifndef AME_PL330A
	if( pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x1797 )
	{
		rxbuf[ 0 ] = BD73A320B6D24146A36D07B60BCDE94F( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ] );
	}

	if( (pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x3086 && pDevice->F9D9594A095F0463193B7588374CF8310->device == 0x0101) )
	{
		rxbuf[ 0 ] = d9cfcb6942714b3291d4a65a75ba7691( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ] );
	}

	if( (pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x1AF2 && pDevice->F9D9594A095F0463193B7588374CF8310->device == 0xA001) )
	{
		rxbuf[ 0 ] = F7B4503FC4AA4710AEC20FC4C587ACB8( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ] );
	}
	#else
		rxbuf[ 0 ] = F7B4503FC4AA4710AEC20FC4C587ACB8( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ] );
	#endif

	return rxbuf[ 0 ];
}

VOID D7A380CE56544E6299D38A5D8653A887( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, BYTE i, BYTE nPage, BYTE nAddress, BYTE nData )
{
	BYTE txbuf[ 2 ];

	if(	pDevice->D8B74534E3F446EC9637B41BE21BE297[ i ] != nPage ) {

		CCE176A010E245C8B26A8B8D152FE397( pDevice, i, nPage );	
	}
	txbuf[ 0 ] = nAddress;
	
	txbuf[ 1 ] = nData;

	#ifndef AME_PL330A
	if( pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x1797 )
	{
		BBD53048E47E4431AD6F396FDEAFCA8B( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ], txbuf[ 1 ] );
	}

	if( (pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x3086 && pDevice->F9D9594A095F0463193B7588374CF8310->device == 0x0101) )
	{
		c944c15a33e6405babe73920d58a1fba( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ], txbuf[ 1 ] );
	}

	if( (pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x1AF2 && pDevice->F9D9594A095F0463193B7588374CF8310->device == 0xA001) )
	{
		FC5FCF2C4E50436EA8A2A8C98E4C1AC2( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ], txbuf[ 1 ] );
	}
	#else
		FC5FCF2C4E50436EA8A2A8C98E4C1AC2( pDevice, 0x00, (0x18 + i) * (2), txbuf[ 0 ], txbuf[ 1 ] );
	#endif
}

VOID E19F19A364F9440486A551CB18E5EE30( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, BYTE i, BOOLEAN nON )
{
	BYTE R052;

	R052 = CC8FFE6CEDFB42ADBB2BC0AB8B5A3CEF( pDevice, i, 0x00, 0x52 );

	R052 &= 0x77;

	if( nON == TRUE ) {
		
		R052 |= 0x88;
	}	    	
	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x52, R052 );
}

VOID B8BDE883169F4F829632A862C9FD62DE( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, BYTE i, BYTE nVolume )
{
	if( nVolume == 0 ) {

		E19F19A364F9440486A551CB18E5EE30( pDevice, i, TRUE );
	}
	else {

		CHAR R = -24;
			
		R += nVolume;

		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x53, R );

		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x54, R );

		E19F19A364F9440486A551CB18E5EE30( pDevice, i, FALSE );
	}
}

VOID F20F06778F21457A885285EEF4132695( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, BYTE i, BYTE nPort, BYTE nLevel )	
{
	BYTE RTEMP = 0x00;

	if( nPort == ADC3101_SINGLE_IN1 ) {
						
		RTEMP = (( nLevel << 0 ) | 0xFC);
	}
	if( nPort == ADC3101_SINGAL_IN2 ) {
		
		RTEMP = (( nLevel << 2 ) | 0xF3);
	}
	if( nPort == ADC3101_SIGNAL_IN3 ) {
		
		RTEMP = (( nLevel << 4 ) | 0xCF);
	}			
	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x01, 0x34, RTEMP );
	
	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x01, 0x37, RTEMP );
}

VOID F9094564DAE648AA9FB47CCDCC1D6CE1( F42A18AF66EFF459eA332CA253FFF8A65 * pDevice, BYTE i )
{
	F966EAAB748564259849CBD3F3D6C48A7( KERN_INFO,"[%02d] F9094564DAE648AA9FB47CCDCC1D6CE1()\n", pDevice->F0C7DF8CDF1004a6eB97071CBDF459ECE);

	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x01, 0x01 );   	//

//	if( i == 0 ) { D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x04, 0x00 ); }

//	if( i == 1 ) { D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x04, 0x05 ); }

//	if( i == 2 ) { D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x04, 0x05 ); }

//	if( i == 3 ) { D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x04, 0x05 ); }

	#ifndef AME_PL330A
	if( (pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x1AF2 && pDevice->F9D9594A095F0463193B7588374CF8310->device == 0xA001) || (pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x1797) )
	{
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x12, 0x81 );   	// NADC             = 12.288 MHZ
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x13, 0x82 );    // MADC / 2 		=   6144 KHZ
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x14, 0x80 );	// AOSR / 128		=     48 KHZ
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x1E, 0x84 );	// ADC_CLK          =  3.072 MHZ
	}

	if( (pDevice->F9D9594A095F0463193B7588374CF8310->vendor == 0x3086 && pDevice->F9D9594A095F0463193B7588374CF8310->device == 0x0101) )
	{
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x12, 0x83 );   	// NADC             =  3.072 MHZ
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x13, 0x82 );    // MADC / 2         =   2048 KHZ
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x14, 0x80 );	// AOSR / 128       =     16 KHZ
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x1E, 0x84 );	// ADC_CLK          =  3.072 MHZ
	}
	#else
	{
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x12, 0x81 );   	// NADC             = 12.288 MHZ
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x13, 0x82 );    // MADC / 2 		=   6144 KHZ
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x14, 0x80 );	// AOSR / 128		=     48 KHZ
		D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x1E, 0x84 );	// ADC_CLK          =  3.072 MHZ
	}
	#endif

	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x1B, 0x0C );	// [4:5] 0 : 16 BITS, 1 : 20 BITS, 2 : 24 BITS, 3 : 32 BITS

	if( i == 0 ) { D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x1B, 0x0C ); }

	if( i == 1 ) { D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x1B, 0x00 ); }

	if( i == 2 ) { D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x1B, 0x00 ); }

	if( i == 3 ) { D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x1B, 0x00 ); }

	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x01, 0x00, 0x01 );
	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x01, 0x33, 0x50 );
	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x01, 0x34, 0xFC );
	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x01, 0x37, 0xFC );
	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x01, 0x3B, 0x00 );
	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x01, 0x3C, 0x00 );

#if 1

	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x3D, 0x02 );

	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x51, 0x00 );

	{	// SET L/R FILTER
	
		BYTE j = 0;

		BYTE nData[ 30 ] = { 0x7F, 0xFE, 0xC0, 0x01, 0x00, 0x00, 0x3F, 0xFE, 0x00, 0x00,

							 0x7F, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 

							 0x7F, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };

		for( j = 0 ; j < sizeof(nData) ; j++ ) {

			D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x04, j + 0x0E, nData[ j ] );

			D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x04, j + 0x4E, nData[ j ] );
		}
	}
	{	// SET L/R FILTER

		BYTE j = 0;

		BYTE nData[ 20 ] = { 0x7F, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

							 0x7F, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 };

		for( j = 0 ; j < sizeof(nData) - 1 ; j++ ) {
			
			D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x04, j + 0x2C, nData[ j ] );

			D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x04, j + 0x6C, nData[ j ] );
		}			
	}
#endif
	
	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x51, 0xC2 );
	
	D7A380CE56544E6299D38A5D8653A887( pDevice, i, 0x00, 0x52, 0x00 );
}
